<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>StackScore – Build & Compose</title>

  <!-- Tailwind + Icons -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet"/>

  <style>
    html{scroll-behavior:smooth}
    body{font-family:'Inter',sans-serif}
    @keyframes fadeInUp{0%{opacity:0;transform:translateY(28px)}100%{opacity:1;transform:translateY(0)}}
    .init-opacity{opacity:0}
    .show{animation:fadeInUp .9s cubic-bezier(.22,1,.36,1) forwards}
    svg.lucide{stroke:currentColor;stroke-width:1.5}
    details summary::-webkit-details-marker{display:none}
    details[open] summary .chev{transform:rotate(180deg)}
    details summary .chev{transition:transform .2s ease}
  </style>
</head>

<body class="bg-gradient-to-br from-[#101012] via-[#0c0d0e] to-[#08090a] text-white antialiased">

  <!-- ================= NAV ================= -->
  <header class="max-w-7xl mx-auto px-6 py-6 flex flex-col md:flex-row md:items-center justify-between gap-4 init-opacity" data-anim>
    <a href="/" class="flex items-center gap-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-lime-400/70">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" class="text-lime-400" aria-hidden="true">
        <path d="M4 4h16v3H4z"></path><path d="M4 10.5h16v3H4z"></path><path d="M4 17h16v3H4z"></path>
      </svg>
      <span class="text-lg font-semibold tracking-tight text-white">StackScore</span>
    </a>

    <nav class="flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-8">
      <a href="#main" class="text-neutral-300 hover:text-white transition-colors">Home</a>
      <a href="#features" class="text-neutral-300 hover:text-white transition-colors">Features</a>
      <a href="#results" class="text-neutral-300 hover:text-white transition-colors">Results</a>
      <a href="#faq" class="text-neutral-300 hover:text-white transition-colors">FAQ</a>
      <a href="#wizard" class="flex items-center gap-1 text-lime-300 hover:text-lime-200 transition-colors">
        <i data-lucide="zap" class="w-4 h-4"></i><span>Build</span>
      </a>
    </nav>
  </header>

  <!-- ================= HERO ================= -->
  <section id="main" class="max-w-7xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center pt-20 pb-20 init-opacity" data-anim>
    <div class="lg:col-span-6 space-y-6">
      <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-lime-400/30 bg-gradient-to-r from-lime-400/10 to-emerald-500/10 text-xs text-lime-300">
        <i data-lucide="sparkles" class="w-4 h-4"></i> AI-Powered Financial Stack
      </div>

      <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-light leading-tight tracking-tight">
        Your Elite <span class="bg-clip-text text-transparent bg-gradient-to-r from-lime-400 via-emerald-400 to-cyan-400 font-semibold">Stack.</span>
      </h1>

      <p class="mt-2 text-xl md:text-2xl italic text-white tracking-tight">
        Shhh… Stacking is the new <span class="not-italic font-semibold">take charge of your credit score</span>
      </p>
    </div>

    <div class="lg:col-span-6">
      <div class="bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10 shadow-md space-y-6">
        <h3 class="text-white font-semibold text-lg text-center tracking-tight">Your Potential Gains</h3>
        <div class="grid grid-cols-2 gap-3">
          <div class="p-4 text-center rounded-lg border border-lime-400/30 hover:bg-white/10 transition">
            <p class="text-lime-400 font-semibold">Utilities</p><p class="text-slate-300 text-xs">+10–20 pts</p>
          </div>
          <div class="p-4 text-center rounded-lg border border-emerald-400/30 hover:bg-white/10 transition">
            <p class="text-emerald-400 font-semibold">Installments</p><p class="text-slate-300 text-xs">+20–40 pts</p>
          </div>
          <div class="p-4 text-center rounded-lg border border-cyan-400/30 hover:bg-white/10 transition">
            <p class="text-cyan-400 font-semibold">Disputes</p><p class="text-slate-300 text-xs">+15–30 pts</p>
          </div>
          <div class="p-4 text-center rounded-lg border border-yellow-300/30 hover:bg-white/10 transition">
            <p class="text-yellow-300 font-semibold">Tradelines</p><p class="text-slate-300 text-xs">+25–50 pts</p>
          </div>
        </div>
        <div class="text-center space-y-1">
          <p class="text-lime-300">Stack Impact: ★★★★★</p>
          <p class="text-emerald-400">Synergy Score: High</p>
          <p class="text-xs text-slate-500">Based on verified user reports. Results may vary.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ======= FULL-WIDTH NAV HIGHLIGHT ======= -->
  <div class="max-w-7xl mx-auto px-6 relative mb-12">
    <div class="h-1 w-full bg-gradient-to-r from-lime-400 via-emerald-400 to-cyan-400 rounded-full"></div>
    <nav class="flex justify-center space-x-8 -mt-3">
      <a href="#main" class="flex items-center space-x-2 px-4 py-1.5 bg-black/70 rounded-full text-sm font-medium text-zinc-300 hover:text-white hover:bg-white/10 transition">
        <i data-lucide="zap" class="w-4 h-4 text-lime-400"></i><span>Quick Start</span>
      </a>
      <a href="#compose" class="flex items-center space-x-2 px-4 py-1.5 bg-black/70 rounded-full text-sm font-medium text-zinc-300 hover:text-white hover:bg-white/10 transition">
        <i data-lucide="layers" class="w-4 h-4 text-emerald-400"></i><span>Your Stack</span>
      </a>
      <a href="#instructions" class="flex items-center space-x-2 px-4 py-1.5 bg-black/70 rounded-full text-sm font-medium text-zinc-300 hover:text-white hover:bg-white/10 transition">
        <i data-lucide="clipboard-list" class="w-4 h-4 text-cyan-400"></i><span>Instructions</span>
      </a>
    </nav>
  </div>

  <!-- =============== YOUR STACK (COMPOSE) =============== -->
  <section id="compose" class="max-w-7xl mx-auto px-6 pb-24 init-opacity" data-anim>
    <div class="bg-white/5 border border-white/10 shadow-xl rounded-xl overflow-hidden">
      <!-- header -->
      <header class="flex flex-col md:flex-row items-start md:items-center justify-between md:px-6 bg-gradient-to-b from-white/5 via-white/0 to-white/5 border-b border-white/10 pt-4 pr-4 pb-4 pl-4">
        <a href="#compose" class="inline-block">
          <button class="bg-gradient-to-r from-lime-400 to-emerald-500 text-black rounded-full font-semibold px-6 py-3 transition hover:scale-105 hover:shadow-md hover:brightness-110">
            Your Stack — Start Here
          </button>
        </a>
      </header>

      <!-- AI-powered Feature Specific Instructions -->
      <div class="mt-4 bg-amber-50/5 border border-amber-200/30 rounded-xl shadow p-5">
        <div class="flex items-center gap-2 mb-2">
          <i data-lucide="alert-triangle" class="w-4 h-4 text-amber-300"></i>
          <h4 class="text-amber-200 font-semibold">Important: Feature-specific Instructions</h4>
        </div>
        <p class="text-zinc-200/90">
          Behind your guide is AI intelligence that searched through
          <span class="font-semibold text-white">hundreds of features across dozens of apps</span>
          to find what works best for you. We don’t give everyone the same setup — even with the same app, different people get different features.
          Based on your answers to our six questions, the AI curated this <span class="font-semibold text-white">specific combination of apps and features</span>
          to create the most impact for your credit journey.
          <button class="ml-2 underline text-amber-200 hover:text-amber-100" onclick="this.nextElementSibling.classList.toggle('hidden')">
            Learn more ▾
          </button>
        </p>
        <div class="hidden mt-3 text-zinc-300">
          Apps include many capabilities, but only certain features move the needle for your profile. Follow the features we highlighted to unlock the full benefit of your plan.
        </div>
      </div>

      <!-- content grid -->
      <section class="grid grid-cols-1 lg:grid-cols-12 min-h-[60vh]">
        <!-- Sidebar -->
        <aside class="col-span-1 lg:col-span-3 lg:p-6 bg-gradient-to-b from-white/5 to-white/10 border-r border-white/10 pt-4 pr-4 pb-4 pl-4">
          <div class="space-y-3 mb-6">
            <h3 class="text-xs font-medium text-zinc-400 uppercase tracking-wider">Apps in Your Stack.</h3>

            <!-- Initial sidebar (will be replaced by fetched Mustache fragment if your local server is running) -->
            <div class="space-y-2">
              <details class="group" open>
                <summary class="w-full flex items-center justify-between px-3 py-2 bg-lime-600 text-black rounded-md hover:bg-lime-500 transition-colors text-xs font-medium cursor-pointer"
                  data-app="Experian Boost"
                  data-url="https://www.experian.com/boost"
                  data-step1="Connect your bank account"
                  data-step2="Add utilities & subscriptions"
                  data-step3="Verify and confirm push to bureau"
                  data-tip="Keep bank connection active; re-verify if Boost stops reporting.">
                  <span class="flex items-center space-x-1.5">
                    <i data-lucide="zap" class="w-3.5 h-3.5"></i><span>Experian Boost</span>
                  </span>
                  <i data-lucide="chevron-down" class="w-3 h-3 chev"></i>
                </summary>
                <ul class="mt-3 space-y-2 px-3 pb-3">
                  <li class="flex items-center justify-between text-xs text-zinc-300">
                    <span>Instant Credit Score Boost</span>
                    <input type="checkbox" class="w-3 h-3 rounded border-white/10 bg-zinc-800 text-lime-600">
                  </li>
                  <li class="flex items-center justify-between text-xs text-zinc-300">
                    <span>Connect Bank</span>
                    <input type="checkbox" class="w-3 h-3 rounded border-white/10 bg-zinc-800 text-lime-600">
                  </li>
                  <li class="flex items-center justify-between text-xs text-zinc-300">
                    <span>Add Utilities</span>
                    <input type="checkbox" class="w-3 h-3 rounded border-white/10 bg-zinc-800 text-lime-600">
                  </li>
                </ul>
              </details>

              <details class="group">
                <summary class="w-full flex items-center justify-between px-3 py-2 bg-lime-600 text-black rounded-md hover:bg-lime-500 transition-colors text-xs font-medium cursor-pointer"
                  data-app="Kikoff"
                  data-url="https://www.kikoff.com/"
                  data-step1="Open Credit Builder Account"
                  data-step2="Enable autopay"
                  data-step3="Keep utilization near zero"
                  data-tip="Let the tradeline season for multiple cycles for best lift.">
                  <span class="flex items-center space-x-1.5">
                    <i data-lucide="credit-card" class="w-3.5 h-3.5"></i><span>Kikoff</span>
                  </span>
                  <i data-lucide="chevron-down" class="w-3 h-3 chev"></i>
                </summary>
                <ul class="mt-3 space-y-2 px-3 pb-3">
                  <li class="flex items-center justify-between text-xs text-zinc-300">
                    <span>Credit Builder Account</span>
                    <input type="checkbox" class="w-3 h-3 rounded border-white/10 bg-zinc-800 text-lime-600">
                  </li>
                  <li class="flex items-center justify-between text-xs text-zinc-300">
                    <span>No Interest Payment Plan</span>
                    <input type="checkbox" class="w-3 h-3 rounded border-white/10 bg-zinc-800 text-lime-600">
                  </li>
                </ul>
              </details>

              <details class="group">
                <summary class="w-full flex items-center justify-between px-3 py-2 bg-lime-600 text-black rounded-md hover:bg-lime-500 transition-colors text-xs font-medium cursor-pointer"
                  data-app="Kovo"
                  data-url="https://www.kovo.com/"
                  data-step1="Create account"
                  data-step2="Choose Installment Tradeline"
                  data-step3="Enable autopay and monitor reporting"
                  data-tip="Avoid missed payments to keep a clean seasoning history.">
                  <span class="flex items-center space-x-1.5">
                    <i data-lucide="trending-up" class="w-3.5 h-3.5"></i><span>Kovo</span>
                  </span>
                  <i data-lucide="chevron-down" class="w-3 h-3 chev"></i>
                </summary>
                <ul class="mt-3 space-y-2 px-3 pb-3">
                  <li class="flex items-center justify-between text-xs text-zinc-300">
                    <span>Installment Tradeline</span>
                    <input type="checkbox" class="w-3 h-3 rounded border-white/10 bg-zinc-800 text-lime-600">
                  </li>
                  <li class="flex items-center justify-between text-xs text-zinc-300">
                    <span>Credit Reporting</span>
                    <input type="checkbox" class="w-3 h-3 rounded border-white/10 bg-zinc-800 text-lime-600">
                  </li>
                </ul>
              </details>
            </div>
          </div>

          <!-- Resources -->
          <div class="space-y-3">
            <h3 class="text-xs font-medium text-zinc-400 uppercase tracking-wider">Resources &amp; Support.</h3>
            <div class="space-y-1">
              <button class="w-full text-left p-2 rounded-md hover:bg-white/10 transition-colors group">
                <div class="flex items-center space-x-2">
                  <div class="w-5 h-5 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white text-xs font-medium">S</div>
                  <div class="flex-1 min-w-0"><p class="text-xs font-medium text-zinc-100 truncate">StackScore Support</p></div>
                  <i data-lucide="plus" class="w-3 h-3 text-zinc-500 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                </div>
              </button>
              <button class="w-full text-left p-2 rounded-md hover:bg-white/10 transition-colors group">
                <div class="flex items-center space-x-2">
                  <div class="w-5 h-5 bg-gradient-to-br from-pink-400 to-pink-600 rounded-full flex items-center justify-center text-white text-xs font-medium">C</div>
                  <div class="flex-1 min-w-0"><p class="text-xs font-medium text-zinc-100 truncate">Credit Resources</p></div>
                  <i data-lucide="plus" class="w-3 h-3 text-zinc-500 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                </div>
              </button>
              <button class="w-full text-left p-2 rounded-md hover:bg-white/10 transition-colors group">
                <div class="flex items-center space-x-2">
                  <div class="w-5 h-5 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center text-white text-xs font-medium">F</div>
                  <div class="flex-1 min-w-0"><p class="text-xs font-medium text-zinc-100 truncate">Community Forum</p></div>
                  <i data-lucide="plus" class="w-3 h-3 text-zinc-500 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                </div>
              </button>
            </div>
          </div>
        </aside>

        <!-- Right panel -->
        <main id="instructions" class="col-span-1 lg:col-span-9 lg:p-8 space-y-5 pt-4 pr-4 pb-4 pl-4">
          <div class="flex items-center justify-between mb-6">
            <h1 class="text-lg font-semibold text-white">App Instructions</h1>
          </div>

          <form class="space-y-4">
            <div class="flex items-center space-x-3">
              <label class="w-24 text-xs font-medium text-zinc-300">Website:</label>
              <input type="url" placeholder="https://example.com" class="flex-1 px-3 py-2 bg-zinc-800 border border-white/10 rounded-md text-sm placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent">
            </div>

            <div class="space-y-3">
              <div class="flex items-center space-x-3">
                <label class="w-12 text-xs font-medium text-zinc-300">1st:</label>
                <input type="text" placeholder="First instruction…" class="flex-1 px-3 py-2 bg-zinc-800 border border-white/10 rounded-md text-sm placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent">
              </div>
              <div class="flex items-center space-x-3">
                <label class="w-12 text-xs font-medium text-zinc-300">2nd:</label>
                <input type="text" placeholder="Second instruction…" class="flex-1 px-3 py-2 bg-zinc-800 border border-white/10 rounded-md text-sm placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent">
              </div>
              <div class="flex items-center space-x-3">
                <label class="w-12 text-xs font-medium text-zinc-300">3rd:</label>
                <input type="text" placeholder="Third instruction…" class="flex-1 px-3 py-2 bg-zinc-800 border border-white/10 rounded-md text-sm placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent">
              </div>
            </div>

            <div class="border-t border-b border-white/10 py-3">
              <div class="flex items-center space-x-0.5 flex-wrap gap-1">
                <button type="button" class="p-1.5 rounded hover:bg-white/5 text-zinc-300"><i data-lucide="bold" class="w-3.5 h-3.5"></i></button>
                <button type="button" class="p-1.5 rounded hover:bg-white/5 text-zinc-300"><i data-lucide="italic" class="w-3.5 h-3.5"></i></button>
                <button type="button" class="p-1.5 rounded hover:bg-white/5 text-zinc-300"><i data-lucide="code" class="w-3.5 h-3.5"></i></button>
                <div class="w-px h-4 bg-white/10 mx-1"></div>
                <button type="button" class="p-1.5 rounded hover:bg-white/5 text-zinc-300"><i data-lucide="list" class="w-3.5 h-3.5"></i></button>
                <button type="button" class="p-1.5 rounded hover:bg-white/5 text-zinc-300"><i data-lucide="link" class="w-3.5 h-3.5"></i></button>
                <button type="button" class="p-1.5 rounded hover:bg-white/5 text-zinc-300"><i data-lucide="paperclip" class="w-3.5 h-3.5"></i></button>
              </div>
            </div>

            <div class="space-y-2">
              <label class="block text-xs font-medium text-zinc-300">Pro Tip:</label>
              <textarea rows="8" placeholder="Share an expert tip or additional notes…" class="w-full px-3 py-3 bg-zinc-800 border border-white/10 rounded-md text-sm placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent resize-y"></textarea>
            </div>

            <div class="flex items-center justify-between pt-4 border-t border-white/10">
              <span class="text-xs text-zinc-400">Progress saved • Instructions updated.</span>
              <div class="flex items-center space-x-2">
                <button type="button" class="px-3 py-1.5 border border-white/10 text-zinc-200 rounded-md hover:bg-white/5 transition-colors text-xs">Save Progress</button>
                <button type="submit" class="px-4 py-1.5 bg-lime-600 text-black rounded-md hover:bg-lime-500 transition-colors font-medium text-xs">Mark Complete</button>
              </div>
            </div>
          </form>
        </main>
      </section>
    </div>
  </section>

  <!-- Legal Disclaimer -->
  <footer class="max-w-7xl mx-auto px-6 pb-12 text-xs text-zinc-400">
    <div class="bg-white/5 border border-white/10 rounded-lg p-4 leading-relaxed">
      <strong class="text-zinc-300">Disclaimer:</strong>
      We are not financial advisors, credit advisors, or credit counseling providers. The information in this guide is
      <span class="font-semibold text-zinc-200">educational only</span> and should not be taken as financial advice,
      credit advice, or credit counseling advice. Results from using apps and features will vary, and there is no guarantee
      that your credit score will increase.
    </div>
  </footer>

  <!-- icons + entrance anim -->
  <script>
  document.addEventListener('DOMContentLoaded',()=>{
    window.lucide && lucide.createIcons();
    document.querySelectorAll('[data-anim]').forEach((el,i)=>{
      setTimeout(()=>el.classList.add('show'),i*150);
    });
  });
  </script>

  <!-- LocalStorage: checkboxes + progress + mark complete -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const params = new URLSearchParams(location.search);
    const token = params.get("t") || "anon";
    const prefix = `ss:${token}:`;

    document.querySelectorAll('input[type="checkbox"]').forEach((cb, idx) => {
      const key = prefix + "cb:" + idx;
      cb.checked = localStorage.getItem(key) === "1";
      cb.addEventListener("change", () => {
        localStorage.setItem(key, cb.checked ? "1" : "0");
      });
    });

    const saveBtn = [...document.querySelectorAll("button")]
      .find(b => /save progress/i.test(b.textContent || ""));
    if (saveBtn) {
      saveBtn.addEventListener("click", () => {
        localStorage.setItem(prefix + "progress-saved", Date.now().toString());
        alert("Progress saved locally!");
      });
    }

    const completeBtn = [...document.querySelectorAll("button")]
      .find(b => /mark complete/i.test(b.textContent || ""));
    if (completeBtn) {
      const completeKey = prefix + "completed";
      if (localStorage.getItem(completeKey) === "1") {
        completeBtn.textContent = "Completed ✔";
        completeBtn.classList.add("bg-emerald-600");
      }
      completeBtn.addEventListener("click", (e) => {
        e.preventDefault();
        localStorage.setItem(completeKey, "1");
        completeBtn.textContent = "Completed ✔";
        completeBtn.classList.add("bg-emerald-600");
      });
    }
  });
  </script>

  <!-- Dynamic app → right panel binder -->
  <script>
  function initInstructions() {
    const params = new URLSearchParams(location.search);
    const token = params.get("t") || "anon";
    const kOpen = `ss:${token}:lastApp`;

    const form = document.querySelector('#instructions form') || document.querySelector('main#instructions form');
    if (!form) return;

    const urlInput   = form.querySelector('input[type="url"]');
    const step1Input = form.querySelector('input[placeholder*="First"]');
    const step2Input = form.querySelector('input[placeholder*="Second"]');
    const step3Input = form.querySelector('input[placeholder*="Third"]');
    const tipArea    = form.querySelector('textarea');

    function applyData(sum) {
      if (!sum) return;
      const ds = sum.dataset || {};
      if (urlInput)   urlInput.value   = ds.url   || "";
      if (step1Input) step1Input.value = ds.step1 || "";
      if (step2Input) step2Input.value = ds.step2 || "";
      if (step3Input) step3Input.value = ds.step3 || "";
      if (tipArea)    tipArea.value    = ds.tip   || "";
      if (ds.app)     localStorage.setItem(kOpen, ds.app);
    }

    // reset listeners to avoid duplicates if called twice
    document.querySelectorAll('#compose details.group').forEach(d => {
      const clone = d.cloneNode(true);
      d.parentNode.replaceChild(clone, d);
    });

    document.querySelectorAll('#compose details.group').forEach((d) => {
      d.addEventListener('toggle', () => {
        if (d.open) {
          document.querySelectorAll('#compose details.group').forEach(dd => { if (dd !== d) dd.open = false; });
          applyData(d.querySelector('summary'));
        }
      });
    });

    // restore last app or first open
    const lastApp = localStorage.getItem(kOpen);
    let applied = false;
    if (lastApp) {
      const targetSummary = [...document.querySelectorAll('#compose details.group summary')]
        .find(s => (s.dataset.app || "").toLowerCase() === lastApp.toLowerCase());
      if (targetSummary) {
        const parent = targetSummary.closest('details.group');
        if (parent) parent.open = true;
        applyData(targetSummary);
        applied = true;
      }
    }
    if (!applied) {
      const firstOpen = document.querySelector('#compose details.group[open] summary')
                     || document.querySelector('#compose details.group summary');
      if (firstOpen) applyData(firstOpen);
    }
  }
  document.addEventListener('DOMContentLoaded', initInstructions);
  </script>

  <!-- Fetch Mustache-rendered sidebar (if your local server is running) and re-bind -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const mount = document.querySelector('#compose aside .space-y-3 .space-y-2');
    if (!mount) return;

    fetch('http://localhost:3002/render/sidebar')
      .then(r => r.text())
      .then(html => {
        mount.innerHTML = html;
        window.lucide && lucide.createIcons();
        initInstructions(); // re-bind after injecting new HTML
      })
      .catch(err => console.warn('Sidebar fetch skipped/failed:', err));
  });
  </script>

</body>
</html>
